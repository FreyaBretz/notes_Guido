\documentclass{article}
\usepackage{tikz,tikzscale}
\usetikzlibrary{math}

\tikzset{pics/tripile/.style args={#1}{
    code={
      \coordinate (top) at (0,#1);
      \foreach \i in{0,...,#1}
      \foreach \j in{0,...,\i}
      {
        \tikzmath{
          \y = .3*(2/3*#1-\i)*cos(30);
          \x = .3*(\i/2-\j);
        }
        \draw (\x,\y) circle (3pt);
      }
    }
}}

\begin{document}
\thispagestyle{empty}
\includegraphics[width=.2\textwidth]{test.tikz}
\includegraphics[width=.3\textwidth]{test.tikz}
\includegraphics[width=.4\textwidth]{test.tikz}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
